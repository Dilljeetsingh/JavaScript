<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <h1>Rock Paper Scissor</h1>
        <button onclick="
        playGame('rock')"> Rock</button>

        <button onclick="
        playGame('paper')">Paper</button>

        <button onclick="
        playGame('scissors');
        ">Scissor</button>

        <button onclick="
        score.wins = 0,
        score.loses = 0,
        score.tie = 0;
        localStorage.removeItem('score')
        ">reset score</button>
        
        
        <script>

            const score = JSON.parse(localStorage.getItem('score')) || {
                    wins: 0,
                    loses: 0,
                    tie: 0
                };
            
            /*if (!score){
                score = {
                    wins: 0,
                    loses: 0,
                    tie: 0
                };
            }
                */

            function playGame(playerMove){
                const computerMove = pickComputerMove();

            let result = '';

            if(playerMove === 'scissors'){
                if (computerMove === 'rock') {
                    result = 'you lose';
                } else if (computerMove === 'Paper'){
                    result = 'you win.';
                } else if (computerMove === 'Scissor'){
                    result = 'you tie.';
                }

            }else if (playerMove === 'paper'){    
                if (computerMove === 'rock') {
                    result = 'you win';
                } else if (computerMove === 'Paper'){
                    result = 'you tie.';
                } else if (computerMove === 'Scissor'){
                    result = 'you lose.';
                }

            }else if(playerMove === 'rock'){
                
                if (computerMove === 'rock') {
                    result = 'you tie';
                } else if (computerMove === 'Paper'){
                    result = 'you lose.';
                } else if (computerMove === 'Scissor'){
                    result = 'you win.';
                }
            }

            if (result === 'you win.'){
                score.wins += 1;
            } else if(result === 'you lose.'){
                score.loses += 1;
            } else if(result === 'you tie.'){
                score.tie += 1;
            }

            localStorage.setItem('score', JSON.stringify(score));


            alert(`you picked ${playerMove}.computer pick ${computerMove}.${result}
            Wins: ${score.wins}, Loses: ${score.loses}, ties: ${score.tie}`);
       
            }

            
        function pickComputerMove(){
            const randomNumber = Math.random();
            let computerMove = '';

            if (randomNumber >= 0 && 
            randomNumber < 1 / 3){
                computerMove ='Rock';

            }else if(randomNumber >= 1/3 && 
            randomNumber <2/3 ){
                computerMove ='Paper';

            }else if(randomNumber >= 2/3 && 
            randomNumber < 1){
                computerMove ='Scissor';
            }

            return computerMove;
        }         

        /* in this lesson:
        1. functions = let us reuse code
        2. Return = get a value out of a function
        3. Parameters = put values into a function
        4. improved the code for Rock, paper, scissors */
        </script>
    </body>
</html>